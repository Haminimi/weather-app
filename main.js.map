{"version":3,"file":"main.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;;;;;;;;;;;;;AClBwE;AAC5C;AACE;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,0BAA0B,QAAQ,IAAI,IAAI,GAAG,MAAM,GAAG,KAAK;AAC3D;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf,iBAAiB,gBAAgB;AACjC;AACA,gCAAgC,2BAA2B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,sBAAsB,mBAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAI;AAC3B;AACA;AACA;AACA,+BAA+B,gBAAgB,IAAI,aAAa;AAChE,+EAA+E,uBAAuB;AACtG,oEAAoE,qBAAqB;AACzF,0EAA0E,gCAAgC;AAC1G,+EAA+E,uBAAuB;AACtG,kFAAkF,0BAA0B;AAC5G,uEAAuE,mBAAmB;AAC1F,+EAA+E,oBAAoB;AACnG,wEAAwE,oBAAoB;AAC5F,yDAAyD,+BAA+B;AACxF;AACA,+BAA+B,mBAAmB;AAClD;AACA;AACA;AACA,oCAAoC,sBAAsB;AAC1D,2BAA2B,mCAAmC;AAC9D;AACA,iFAAiF,oBAAoB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mCAAmC;AAC1E,8BAA8B,6BAA6B;AAC3D;AACA,oFAAoF,uBAAuB;AAC3G;AACA,mCAAmC;AACnC;AACA,IAAI;AACJ,mCAAmC;AACnC;AACA,IAAI;AACJ,kFAAkF,qCAAqC;AACvH,gEAAgE,iCAAiC;AACjG,6EAA6E,mCAAmC;AAChH;AACA;AACA;AACA,wCAAwC,oCAAoC;AAC5E,+BAA+B,8BAA8B;AAC7D;AACA,qFAAqF,wBAAwB;AAC7G;AACA,oCAAoC;AACpC;AACA,IAAI;AACJ,oCAAoC;AACpC;AACA,IAAI;AACJ,mFAAmF,sCAAsC;AACzH,iEAAiE,kCAAkC;AACnG,8EAA8E,oCAAoC;AAClH;AACA;AACA;AACA,uCAAuC,mCAAmC;AAC1E,8BAA8B,6BAA6B;AAC3D;AACA,oFAAoF,uBAAuB;AAC3G;AACA,mCAAmC;AACnC;AACA,IAAI;AACJ,mCAAmC;AACnC;AACA,IAAI;AACJ,kFAAkF,qCAAqC;AACvH,gEAAgE,iCAAiC;AACjG,6EAA6E,mCAAmC;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,CAAC;;;ACrNoB;AACsB;AAC3C;AACA;AACA;AACA;AACA;AACA,CAAC,kBAAkB;AACnB,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,kBAAkB;AACpB;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC,kBAAkB;AACnB,CAAC;AACD;AACA;AACA;AACA;AACA,2GAA2G,KAAK;AAChH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,yDAAyD,MAAM;AAC/D;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,uDAAuD,MAAM;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8GAA8G,KAAK;AACnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,YAAY;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,YAAY;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,GAAG;AACH,6DAA6D,MAAM;AACnE;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,2DAA2D,MAAM;AACjE;AACA;AACA;AACA","sources":["webpack://weather-app/webpack/bootstrap","webpack://weather-app/webpack/runtime/define property getters","webpack://weather-app/webpack/runtime/global","webpack://weather-app/webpack/runtime/hasOwnProperty shorthand","webpack://weather-app/webpack/runtime/publicPath","webpack://weather-app/./src/display.js","webpack://weather-app/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import createDataObject, { createAccuWeatherDataObject } from './index';\r\nimport sun from './sun.png';\r\nimport moon from './moon.png';\r\n\r\nconst body = document.querySelector('body');\r\nconst dialog = document.querySelector('dialog');\r\nconst dialogCloseButton = document.getElementById('dialog-close-button');\r\nconst headerSticker = document.getElementById('header-sticker');\r\n\r\n//Forecast for today and current conditions\r\nconst currentCity = document.getElementById('city');\r\nconst todayChanceOfRain = document.getElementById('today-chance-of-rain');\r\nconst currentWindSpeed = document.getElementById('current-wind');\r\nconst todayAirQuality = document.getElementById('today-air-quality');\r\nconst todayChanceOfSnow = document.getElementById('today-chance-of-snow');\r\nconst currentWindDirection = document.getElementById('current-wind-direction');\r\nconst currentHumidity = document.getElementById('current-humidity');\r\nconst todayAverage = document.getElementById('today-average');\r\nconst todayMoonPhase = document.getElementById('today-moon-phase');\r\nconst todayUV = document.getElementById('today-UV');\r\n\r\nconst currentTemp = document.getElementById('current-temp');\r\nconst todayDate = document.getElementById('today-date');\r\nconst currentTime = document.getElementById('current-time');\r\nconst currentCondition = document.getElementById('current-weather-description');\r\nconst todayIcon = document.getElementById('current-weather-icon');\r\nconst todayMin = document.getElementById('today-min');\r\nconst todayMax = document.getElementById('today-max');\r\n\r\n//First forecast day\r\nconst firstDayDate = document.getElementById('first-day-date');\r\nconst firstDayDescription = document.getElementById('first-day-description');\r\nconst firstDayIcon = document.getElementById('first-day-icon');\r\nconst firstDayMinTemp = document.getElementById('first-day-min');\r\nconst firstDayMaxTemp = document.getElementById('first-day-max');\r\nconst firstDayChanceOfRain = document.getElementById(\r\n\t'first-day-chance-of-rain'\r\n);\r\nconst firstDayWind = document.getElementById('first-day-wind');\r\nconst firstDayAirQuality = document.getElementById('first-day-air-quality');\r\n\r\n//Second forecast day\r\nconst secondDayDate = document.getElementById('second-day-date');\r\nconst secondDayDescription = document.getElementById('second-day-description');\r\nconst secondDayIcon = document.getElementById('second-day-icon');\r\nconst secondDayMinTemp = document.getElementById('second-day-min');\r\nconst secondDayMaxTemp = document.getElementById('second-day-max');\r\nconst secondDayChanceOfRain = document.getElementById(\r\n\t'second-day-chance-of-rain'\r\n);\r\nconst secondDayWind = document.getElementById('second-day-wind');\r\nconst secondDayAirQuality = document.getElementById('second-day-air-quality');\r\n\r\n//Third forecast day\r\nconst thirdDayDate = document.getElementById('third-day-date');\r\nconst thirdDayDescription = document.getElementById('third-day-description');\r\nconst thirdDayIcon = document.getElementById('third-day-icon');\r\nconst thirdDayMinTemp = document.getElementById('third-day-min');\r\nconst thirdDayMaxTemp = document.getElementById('third-day-max');\r\nconst thirdDayChanceOfRain = document.getElementById(\r\n\t'third-day-chance-of-rain'\r\n);\r\nconst thirdDayWind = document.getElementById('third-day-wind');\r\nconst thirdDayAirQuality = document.getElementById('third-day-air-quality');\r\n\r\n//Time and date formatting\r\nlet timeZone;\r\nfunction formatDate(string) {\r\n\tconst date = new Date(string);\r\n\tconst options = { weekday: 'long' };\r\n\tconst weekDay = date.toLocaleDateString('en-us', options);\r\n\tconst day = date.getDate().toString().padStart(2, '0');\r\n\tconst month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n\tconst year = date.getFullYear();\r\n\tconst formattedDate = `${weekDay}, ${day}/${month}/${year}`;\r\n\treturn formattedDate;\r\n}\r\n\r\nexport function displayLocalTime(zone) {\r\n\tconst date = new Date();\r\n\tconst timeZone = zone;\r\n\r\n\tconst options = {\r\n\t\ttimeZone,\r\n\t\thour: 'numeric',\r\n\t\tminute: 'numeric',\r\n\t\thour12: true,\r\n\t};\r\n\r\n\tconst localTime = new Intl.DateTimeFormat('en-us', options).format(date);\r\n\tcurrentTime.textContent = localTime;\r\n}\r\n\r\nlet lastMinute = -1;\r\n\r\nexport function updateLocalTime() {\r\n\tconst currentMinute = new Date().getUTCMinutes();\r\n\r\n\tif (currentMinute !== lastMinute) {\r\n\t\tdisplayLocalTime(timeZone);\r\n\t\tlastMinute = currentMinute;\r\n\t}\r\n}\r\n\r\nexport default async function displayWeatherData(city) {\r\n\tconst extract = createDataObject(city);\r\n\tconst data = await Promise.resolve(extract);\r\n\tconst extractAccuWeatherData = createAccuWeatherDataObject(city);\r\n\tconst accuWeatherData = await Promise.resolve(extractAccuWeatherData);\r\n\r\n\tif (data === null || accuWeatherData === null) {\r\n\t\tdialog.style.animationName = 'open-dialog-animation';\r\n\t\tdialog.showModal();\r\n\t\tdialog.style.display = 'flex';\r\n\t\tdisplayWeatherData('London');\r\n\t} else {\r\n\t\theaderSticker.src = sun;\r\n\r\n\t\tif (!data.isDayAtTheMoment) {\r\n\t\t\tbody.style.background =\r\n\t\t\t\t'url(https://images.unsplash.com/photo-1507754988072-8667848efc79?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)';\r\n\r\n\t\t\tbody.style.backgroundSize = 'cover';\r\n\t\t\tbody.style.backgroundPosition = 'bottom';\r\n\r\n\t\t\theaderSticker.src = moon;\r\n\t\t}\r\n\r\n\t\t////Forecast for today and current conditions\r\n\t\tcurrentCity.textContent = `${data.weatherFor}, ${data.country}`;\r\n\t\ttodayChanceOfRain.innerHTML = `Chance of rain: <span class=\"weather-value\">${data.todayChanceOfRain}%</span> `;\r\n\t\tcurrentWindSpeed.innerHTML = `Wind: <span class=\"weather-value\">${data.currentWindKph} km/h</span> `;\r\n\t\ttodayAirQuality.innerHTML = `Air quality: <span class=\"weather-value\">${accuWeatherData.todayAirQuality}</span>`;\r\n\t\ttodayChanceOfSnow.innerHTML = `Chance of snow: <span class=\"weather-value\">${data.todayChanceOfSnow}%</span>`;\r\n\t\tcurrentWindDirection.innerHTML = `Wind direction: <span class=\"weather-value\">${data.currentWindDirection}</span>`;\r\n\t\tcurrentHumidity.innerHTML = `Humidity: <span class=\"weather-value\">${data.todayHumidity}%</span> `;\r\n\t\ttodayAverage.innerHTML = `Average temperature: <span class=\"weather-value\">${data.todayAverageC} °C</span> `;\r\n\t\ttodayMoonPhase.innerHTML = `Moon phase: <span class=\"weather-value\">${data.todayMoonPhase}</span>`;\r\n\t\ttodayUV.innerHTML = `UV: <span class=\"weather-value\">${accuWeatherData.currentUvIndex}</span>`;\r\n\r\n\t\tcurrentTemp.textContent = `${data.currentTempC} °C`;\r\n\t\ttodayDate.textContent = formatDate(new Date(accuWeatherData.todayDate));\r\n\t\tdisplayLocalTime(accuWeatherData.timeZone);\r\n\t\ttimeZone = accuWeatherData.timeZone;\r\n\t\tcurrentCondition.textContent = `${data.currentCondition}`;\r\n\t\tconst todayIconCode = `${accuWeatherData.currentWeatherIcon}`;\r\n\t\tconst paddedtodayIconCode = todayIconCode.padStart(2, '0');\r\n\t\tconst todayIconLink = `https://developer.accuweather.com/sites/default/files/${paddedtodayIconCode}-s.png`;\r\n\t\ttodayIcon.src = todayIconLink;\r\n\t\ttodayMin.textContent = Math.floor(data.todayMinTempC);\r\n\t\ttodayMax.textContent = Math.ceil(data.todayMaxTempC);\r\n\r\n\t\t//First day\r\n\t\tfirstDayDate.textContent = formatDate(accuWeatherData.firstDayDate);\r\n\t\tfirstDayDescription.textContent = `${accuWeatherData.firstDayIconPhrase}`;\r\n\t\tconst firstDayIconCode = `${accuWeatherData.firstDayIcon}`;\r\n\t\tconst paddedfirstDayIconCode = firstDayIconCode.padStart(2, '0');\r\n\t\tconst firstDayIconLink = `https://developer.accuweather.com/sites/default/files/${paddedfirstDayIconCode}-s.png`;\r\n\t\tfirstDayIcon.src = firstDayIconLink;\r\n\t\tfirstDayMinTemp.textContent = `${Math.floor(\r\n\t\t\taccuWeatherData.firstDayMinTempC\r\n\t\t)}`;\r\n\t\tfirstDayMaxTemp.textContent = `${Math.ceil(\r\n\t\t\taccuWeatherData.firstDayMaxTempC\r\n\t\t)}`;\r\n\t\tfirstDayChanceOfRain.innerHTML = `Chance of rain: <span class=\"weather-value\">${accuWeatherData.firstDayChanceOfRain}%</span> `;\r\n\t\tfirstDayWind.innerHTML = `Wind: <span class=\"weather-value\">${accuWeatherData.firstDayWindKmh} km/h</span> `;\r\n\t\tfirstDayAirQuality.innerHTML = `Air quality: <span class=\"weather-value\">${accuWeatherData.firstDayAirQuality}</span> `;\r\n\r\n\t\t//Second day\r\n\t\tsecondDayDate.textContent = formatDate(accuWeatherData.secondDayDate);\r\n\t\tsecondDayDescription.textContent = `${accuWeatherData.secondDayIconPhrase}`;\r\n\t\tconst secondDayIconCode = `${accuWeatherData.secondDayIcon}`;\r\n\t\tconst paddedsecondDayIconCode = secondDayIconCode.padStart(2, '0');\r\n\t\tconst secondDayIconLink = `https://developer.accuweather.com/sites/default/files/${paddedsecondDayIconCode}-s.png`;\r\n\t\tsecondDayIcon.src = secondDayIconLink;\r\n\t\tsecondDayMinTemp.textContent = `${Math.floor(\r\n\t\t\taccuWeatherData.secondDayMinTempC\r\n\t\t)}`;\r\n\t\tsecondDayMaxTemp.textContent = `${Math.ceil(\r\n\t\t\taccuWeatherData.secondDayMaxTempC\r\n\t\t)}`;\r\n\t\tsecondDayChanceOfRain.innerHTML = `Chance of rain: <span class=\"weather-value\">${accuWeatherData.secondDayChanceOfRain}%</span> `;\r\n\t\tsecondDayWind.innerHTML = `Wind: <span class=\"weather-value\">${accuWeatherData.secondDayWindKmh} km/h</span> `;\r\n\t\tsecondDayAirQuality.innerHTML = `Air quality: <span class=\"weather-value\">${accuWeatherData.secondDayAirQuality}</span> `;\r\n\r\n\t\t//Third day\r\n\t\tthirdDayDate.textContent = formatDate(accuWeatherData.thirdDayDate);\r\n\t\tthirdDayDescription.textContent = `${accuWeatherData.thirdDayIconPhrase}`;\r\n\t\tconst thirdDayIconCode = `${accuWeatherData.thirdDayIcon}`;\r\n\t\tconst paddedthirdDayIconCode = thirdDayIconCode.padStart(2, '0');\r\n\t\tconst thirdDayIconLink = `https://developer.accuweather.com/sites/default/files/${paddedthirdDayIconCode}-s.png`;\r\n\t\tthirdDayIcon.src = thirdDayIconLink;\r\n\t\tthirdDayMinTemp.textContent = `${Math.floor(\r\n\t\t\taccuWeatherData.thirdDayMinTempC\r\n\t\t)}`;\r\n\t\tthirdDayMaxTemp.textContent = `${Math.ceil(\r\n\t\t\taccuWeatherData.thirdDayMaxTempC\r\n\t\t)}`;\r\n\t\tthirdDayChanceOfRain.innerHTML = `Chance of rain: <span class=\"weather-value\">${accuWeatherData.thirdDayChanceOfRain}%</span> `;\r\n\t\tthirdDayWind.innerHTML = `Wind: <span class=\"weather-value\">${accuWeatherData.thirdDayWindKmh} km/h</span> `;\r\n\t\tthirdDayAirQuality.innerHTML = `Air quality: <span class=\"weather-value\">${accuWeatherData.thirdDayAirQuality}</span> `;\r\n\t}\r\n}\r\n\r\nsetInterval(updateLocalTime, 1000);\r\n\r\ndialogCloseButton.addEventListener('click', () => {\r\n\tdialog.style.animationName = 'close-dialog-animation';\r\n\tsetTimeout(() => {\r\n\t\tdialog.style.display = 'none';\r\n\t\tdialog.close();\r\n\t}, 800);\r\n});\r\n","import './style.css';\r\nimport displayWeatherData from './display';\r\n\r\nconst search = document.getElementById('search');\r\nconst searchButton = document.getElementById('submit');\r\n\r\nwindow.addEventListener('load', () => {\r\n\tdisplayWeatherData('London');\r\n});\r\n\r\nsearch.addEventListener('keydown', (event) => {\r\n\tif (event.key === 'Enter') {\r\n\t\tevent.preventDefault();\r\n\t\tdisplayWeatherData(search.value);\r\n\t}\r\n});\r\n\r\nsearchButton.addEventListener('click', (event) => {\r\n\tevent.preventDefault();\r\n\tdisplayWeatherData(search.value);\r\n});\r\n\r\n//Weather API\r\nasync function getWeatherData(city) {\r\n\ttry {\r\n\t\tconst URLForecast = `https://api.weatherapi.com/v1/forecast.json?key=db3786a3cf584fe79e3181744230812&q=${city}&days=3`;\r\n\t\tconst response = await fetch(URLForecast, {\r\n\t\t\tmode: 'cors',\r\n\t\t});\r\n\r\n\t\tconst data = await response.json();\r\n\t\treturn data;\r\n\t} catch (error) {\r\n\t\tconsole.error(`Failed to fetch data from WeatherAPI. ${error}`);\r\n\t}\r\n}\r\n\r\nexport default async function createDataObject(city) {\r\n\ttry {\r\n\t\tconst data = await Promise.resolve(getWeatherData(city));\r\n\r\n\t\tconst dataObject = {};\r\n\r\n\t\tdataObject.weatherFor = data.location.name;\r\n\t\tdataObject.country = data.location.country;\r\n\t\tdataObject.todayDate = data.forecast.forecastday[0].date;\r\n\t\tdataObject.isDayAtTheMoment = data.current.is_day;\r\n\t\tdataObject.todayIcon = data.current.condition.icon;\r\n\t\tdataObject.currentCondition = data.current.condition.text;\r\n\t\tdataObject.currentTempC = data.current.temp_c;\r\n\t\tdataObject.currentTempF = data.current.temp_f;\r\n\t\tdataObject.todayAverageC = data.forecast.forecastday[0].day.avgtemp_c;\r\n\t\tdataObject.todayAverageF = data.forecast.forecastday[0].day.avgtemp_f;\r\n\t\tdataObject.todayMinTempC = data.forecast.forecastday[0].day.mintemp_c;\r\n\t\tdataObject.todayMaxTempC = data.forecast.forecastday[0].day.maxtemp_c;\r\n\t\tdataObject.todayMinTempF = data.forecast.forecastday[0].day.mintemp_f;\r\n\t\tdataObject.todayMaxTempF = data.forecast.forecastday[0].day.maxtemp_f;\r\n\t\tdataObject.todayChanceOfRain =\r\n\t\t\tdata.forecast.forecastday[0].day.daily_chance_of_rain;\r\n\t\tdataObject.todayChanceOfSnow =\r\n\t\t\tdata.forecast.forecastday[0].day.daily_chance_of_snow;\r\n\t\tdataObject.currentWindKph = data.current.wind_kph;\r\n\t\tdataObject.currentWindMph = data.current.wind_mph;\r\n\t\tdataObject.currentWindDirection = data.current.wind_dir;\r\n\t\tdataObject.todayHumidity = data.current.humidity;\r\n\t\tdataObject.todayMoonPhase =\r\n\t\t\tdata.forecast.forecastday[0].astro.moon_phase;\r\n\r\n\t\treturn dataObject;\r\n\t} catch (error) {\r\n\t\tconsole.error(\r\n\t\t\t`Failed to get data from getWeatherData function. ${error}`\r\n\t\t);\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\n//AccuWeatherAPI\r\nasync function getAccuWeatherData(city) {\r\n\ttry {\r\n\t\tconst cityDataResponse = await fetch(\r\n\t\t\t`http://dataservice.accuweather.com/locations/v1/cities/search?apikey=fA2RszmJkC0x4zPgSzDVDQ5HfNOxwPzu&q=${city}&details=true&alias=always`,\r\n\t\t\t{\r\n\t\t\t\tmode: 'cors',\r\n\t\t\t}\r\n\t\t);\r\n\t\tconst cityData = await cityDataResponse.json();\r\n\t\tconst locationKey = cityData[0].Key;\r\n\r\n\t\tconst forecastResponse = await fetch(\r\n\t\t\t`http://dataservice.accuweather.com/forecasts/v1/daily/5day/${locationKey}?apikey=fA2RszmJkC0x4zPgSzDVDQ5HfNOxwPzu&details=true&metric=true`,\r\n\t\t\t{\r\n\t\t\t\tmode: 'cors',\r\n\t\t\t}\r\n\t\t);\r\n\t\tconst forecastData = await forecastResponse.json();\r\n\r\n\t\tconst currentWeatherResponse = await fetch(\r\n\t\t\t`http://dataservice.accuweather.com/currentconditions/v1/${locationKey}?apikey=fA2RszmJkC0x4zPgSzDVDQ5HfNOxwPzu&details=true`,\r\n\t\t\t{\r\n\t\t\t\tmode: 'cors',\r\n\t\t\t}\r\n\t\t);\r\n\t\tconst currentWeatherData = await currentWeatherResponse.json();\r\n\r\n\t\treturn { cityData, forecastData, currentWeatherData };\r\n\t} catch (error) {\r\n\t\tconsole.error(`Failed to fetch data from AccuWeatherAPI. ${error}`);\r\n\t}\r\n}\r\n\r\nexport async function createAccuWeatherDataObject(city) {\r\n\ttry {\r\n\t\tconst data = await Promise.resolve(getAccuWeatherData(city));\r\n\r\n\t\tconst accuWeatherObject = {};\r\n\r\n\t\taccuWeatherObject.timeZone = data.cityData[0].TimeZone.Name;\r\n\r\n\t\t//Forecast for today and current conditions\r\n\t\taccuWeatherObject.todayDate = data.forecastData.DailyForecasts[0].Date;\r\n\t\taccuWeatherObject.currentWeatherIcon =\r\n\t\t\tdata.currentWeatherData[0].WeatherIcon;\r\n\t\taccuWeatherObject.todayIconPhrase =\r\n\t\t\tdata.forecastData.DailyForecasts[0].Day.IconPhrase;\r\n\t\taccuWeatherObject.todayShortPhrase =\r\n\t\t\tdata.forecastData.DailyForecasts[0].Day.ShortPhrase;\r\n\t\taccuWeatherObject.todayLongPhrase =\r\n\t\t\tdata.forecastData.DailyForecasts[0].Day.LongPhrase;\r\n\t\taccuWeatherObject.todayAirQuality =\r\n\t\t\tdata.forecastData.DailyForecasts[0].AirAndPollen[0].Category;\r\n\t\taccuWeatherObject.currentUvIndex =\r\n\t\t\tdata.currentWeatherData[0].UVIndexText;\r\n\t\taccuWeatherObject.currentConditions =\r\n\t\t\tdata.currentWeatherData[0].WeatherText;\r\n\r\n\t\t//Forecast\r\n\t\t//First day data\r\n\t\taccuWeatherObject.firstDayDate =\r\n\t\t\tdata.forecastData.DailyForecasts[1].Date;\r\n\t\taccuWeatherObject.firstDayIcon =\r\n\t\t\tdata.forecastData.DailyForecasts[1].Day.Icon;\r\n\t\taccuWeatherObject.firstDayMinTempC =\r\n\t\t\tdata.forecastData.DailyForecasts[1].Temperature.Minimum.Value;\r\n\t\taccuWeatherObject.firstDayMaxTempC =\r\n\t\t\tdata.forecastData.DailyForecasts[1].Temperature.Maximum.Value;\r\n\t\taccuWeatherObject.firstDayChanceOfRain =\r\n\t\t\tdata.forecastData.DailyForecasts[1].Day.PrecipitationProbability;\r\n\t\taccuWeatherObject.firstDayWindKmh =\r\n\t\t\tdata.forecastData.DailyForecasts[1].Day.Wind.Speed.Value;\r\n\t\taccuWeatherObject.firstDayAirQuality =\r\n\t\t\tdata.forecastData.DailyForecasts[1].AirAndPollen[0].Category;\r\n\t\taccuWeatherObject.firstDayIconPhrase =\r\n\t\t\tdata.forecastData.DailyForecasts[1].Day.IconPhrase;\r\n\t\taccuWeatherObject.firstDayShortPhrase =\r\n\t\t\tdata.forecastData.DailyForecasts[1].Day.ShortPhrase;\r\n\r\n\t\t//Second day data\r\n\t\taccuWeatherObject.secondDayDate =\r\n\t\t\tdata.forecastData.DailyForecasts[2].Date;\r\n\t\taccuWeatherObject.secondDayIcon =\r\n\t\t\tdata.forecastData.DailyForecasts[2].Day.Icon;\r\n\t\taccuWeatherObject.secondDayMinTempC =\r\n\t\t\tdata.forecastData.DailyForecasts[2].Temperature.Minimum.Value;\r\n\t\taccuWeatherObject.secondDayMaxTempC =\r\n\t\t\tdata.forecastData.DailyForecasts[2].Temperature.Maximum.Value;\r\n\t\taccuWeatherObject.secondDayChanceOfRain =\r\n\t\t\tdata.forecastData.DailyForecasts[2].Day.PrecipitationProbability;\r\n\t\taccuWeatherObject.secondDayWindKmh =\r\n\t\t\tdata.forecastData.DailyForecasts[2].Day.Wind.Speed.Value;\r\n\t\taccuWeatherObject.secondDayAirQuality =\r\n\t\t\tdata.forecastData.DailyForecasts[2].AirAndPollen[0].Category;\r\n\t\taccuWeatherObject.secondDayIconPhrase =\r\n\t\t\tdata.forecastData.DailyForecasts[2].Day.IconPhrase;\r\n\t\taccuWeatherObject.secondDayShortPhrase =\r\n\t\t\tdata.forecastData.DailyForecasts[2].Day.ShortPhrase;\r\n\r\n\t\t//Third day data\r\n\t\taccuWeatherObject.thirdDayDate =\r\n\t\t\tdata.forecastData.DailyForecasts[3].Date;\r\n\t\taccuWeatherObject.thirdDayIcon =\r\n\t\t\tdata.forecastData.DailyForecasts[3].Day.Icon;\r\n\t\taccuWeatherObject.thirdDayMinTempC =\r\n\t\t\tdata.forecastData.DailyForecasts[3].Temperature.Minimum.Value;\r\n\t\taccuWeatherObject.thirdDayMaxTempC =\r\n\t\t\tdata.forecastData.DailyForecasts[3].Temperature.Maximum.Value;\r\n\t\taccuWeatherObject.thirdDayChanceOfRain =\r\n\t\t\tdata.forecastData.DailyForecasts[3].Day.PrecipitationProbability;\r\n\t\taccuWeatherObject.thirdDayWindKmh =\r\n\t\t\tdata.forecastData.DailyForecasts[3].Day.Wind.Speed.Value;\r\n\t\taccuWeatherObject.thirdDayAirQuality =\r\n\t\t\tdata.forecastData.DailyForecasts[3].AirAndPollen[0].Category;\r\n\t\taccuWeatherObject.thirdDayIconPhrase =\r\n\t\t\tdata.forecastData.DailyForecasts[3].Day.IconPhrase;\r\n\t\taccuWeatherObject.thirdDayShortPhrase =\r\n\t\t\tdata.forecastData.DailyForecasts[3].Day.ShortPhrase;\r\n\r\n\t\treturn accuWeatherObject;\r\n\t} catch (error) {\r\n\t\tconsole.log(\r\n\t\t\t`Failed to get data from getAccuWeatherData function. ${error}`\r\n\t\t);\r\n\t\treturn null;\r\n\t}\r\n}\r\n"],"names":[],"sourceRoot":""}